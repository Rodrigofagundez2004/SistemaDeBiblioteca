<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Crear reserva</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
  </head>
  <body>
    <header class="topbar">
      <div class="logo">ğŸ“š Sistema de Salas</div>
      <nav class="nav-links">
        <a href="/" class="nav-item">ğŸ  Inicio</a>
        <a href="/participantes" class="nav-item">ğŸ‘¥ Participantes</a>
        <a href="/salas" class="nav-item">ğŸšª Salas</a>
        <a href="/reservas" class="nav-item active">ğŸ“… Reservas</a>
      </nav>
    </header>

    <main class="container">
      <section class="card">
        <h1>â• Crear nueva reserva</h1>

        <form method="POST" class="form">
          <!-- Sala -->
          <div class="form-group">
            <label for="nombre_sala">Sala</label>
            <select id="nombre_sala" name="nombre_sala" required>
              <option value="" disabled selected>SeleccionÃ¡ una sala</option>
              {% for sala in salas %}
              <option value="{{ sala.nombre_sala }}">
                {{ sala.nombre_sala }} ({{ sala.edificio }}) - Cap: {{
                sala.capacidad }}
              </option>
              {% endfor %}
            </select>
          </div>

          <!-- Fecha -->
          <div class="form-group">
            <label for="fecha">Fecha</label>
            <input type="date" id="fecha" name="fecha" required />
          </div>

          <!-- Turno -->
          <div class="form-group">
            <label for="id_turno">Turno</label>
            <select id="id_turno" name="id_turno" required>
              <option value="" disabled selected>SeleccionÃ¡ un turno</option>
              {% for t in turnos %}
              <option value="{{ t.id_turno }}">{{ t.descripcion }}</option>
              {% endfor %}
            </select>
            <small class="field-hint"
              >CambiÃ¡ 'descripcion' en el backend si tu tabla tiene otra
              columna.</small
            >
          </div>

          <!-- Participante principal -->
          <div class="form-group">
            <label for="ci_principal">Participante principal</label>
            <select id="ci_principal" name="ci_principal" required>
              <option value="" disabled selected>
                SeleccionÃ¡ el responsable
              </option>
              {% for p in participantes %}
              <option value="{{ p.ci }}">
                {{ p.ci }} - {{ p.nombre }} {{ p.apellido }}
              </option>
              {% endfor %}
            </select>
          </div>

          <!-- Participantes (lista mÃºltiple) -->
          <div class="form-group">
            <label for="participantes">Participantes</label>
            <select
              id="participantes"
              name="participantes"
              multiple
              size="6"
              required
            >
              {% for p in participantes %}
              <option value="{{ p.ci }}">
                {{ p.ci }} - {{ p.nombre }} {{ p.apellido }}
              </option>
              {% endfor %}
            </select>
            <small class="field-hint">
              MantenÃ© Ctrl (o Cmd en Mac) para seleccionar varios. El
              participante principal se agregarÃ¡ automÃ¡ticamente si no lo
              marcÃ¡s.
            </small>
          </div>

          <button type="submit" class="btn primary full-width">
            ğŸ’¾ Crear reserva
          </button>
        </form>

        <div class="card-footer">
          <a href="{{ url_for('reservas.listar_reservas') }}" class="link-back">
            â†©ï¸ Volver al listado
          </a>
        </div>
      </section>
    </main>

    <footer class="footer">
      <span>Proyecto Obligatorio Â· Segundo Semestre 2025</span>
    </footer>
  </body>
</html>
